<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AdonisJS - A fully featured web framework for Node.js</title>
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:400,500&display=swap"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  </head>

  <body>
    <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center">
      <form {{( isEmail ? 'action=/login/email' : 'action=/login/username')}} method="post">
        <!-- username input -->
        <div class="form-outline mb-4">
          @if(isEmail)
          <label class="form-label" for="name">Email</label>
          <input
            type="name"
            name="email"
            id="name"
            class="form-control {{error ? 'border border-2 border-danger' : ''}}"
            value="{{name ? name : ''}}"
          >
          @else
          <label class="form-label" for="name">Nom d'utilisateur</label>
          <input
            type="name"
            name="username"
            id="name"
            class="form-control {{error ? 'border border-2 border-danger' : ''}}"
            {{ name ? 'value='+name : ''}}
          >
          @end
        </div>

        <!-- Password input -->
        <div class="form-outline mb-4">
          <label class="form-label" for="pwd">Mot de passe</label>
          <input
            type="password"
            name="password"
            id="pwd"
            class="form-control {{error ? 'border border-2 border-danger' : ''}}"
          >
        </div>

        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" id="remember" name="rememberMe">
          <label class="form-check-label" for="remember">
            Se rappeler de moi
          </label>
        </div>

        @if(error)
        <div><label class="btn btn-danger px-5 mb-3" style="width: 278px;">Le nom d'utilisateur ou le mot de passe est incorrect.</label></div>
        @end

        <div class="d-flex flex-column justify-content-center align-items-center mb-2">
          <button type="button" class="btn btn-secondary btn-block" onclick="window.location.href='/login?isEmail={{!isEmail}}'" style="width: 278px;">S'identifier avec {{ isEmail ? 'le nom d\'utilisateur' : 'l\'email'}}</button>
        </div>

        <div class="d-flex flex-column justify-content-center align-items-center mb-3">
          <button type="button" class="btn btn-primary btn-block" onclick="window.location.href='/signup'" style="width: 278px;">
            Cr√©er un compte
          </button>
        </div>

        <!-- Submit button -->
        <div class="d-flex flex-column justify-content-center align-items-center">
          <button type="submit" class="btn btn-primary btn-block">
            S'identifier
          </button>
        </div>
      </form>
    </div>
  </body>
</html>
